<!doctype html>
<html>
<meta charset="utf-8">
<body>
<label>URL файла:<br><input id="url" style="width:480px"></label>
<button id="go">Скачать</button>
<div id="msg"></div>
<script>
document.getElementById('go').onclick = async () => {
  const url = document.getElementById('url').value.trim();
  if (!url) { document.getElementById('msg').textContent='Введите URL'; return; }
  // Пробуем получить имя файла
  const a = document.createElement('a');
  a.href = url;
  // Указание target='_blank' часто нужно, чтобы браузер разрешил переход
  a.target = '_blank';
  // Для современных браузеров можно инициировать скачивание через fetch+blob:
  try {
    const res = await fetch(url, {mode:'cors'});
    if (!res.ok) throw new Error(res.status+' '+res.statusText);
    const blob = await res.blob();
    const fname = (url.split('/').pop() || 'file').split('?')[0] || 'file';
    const link = document.createElement('a');
    link.href = URL.createObjectURL(blob);
    link.download = fname;
    document.body.appendChild(link);
    link.click();
    link.remove();
    URL.revokeObjectURL(link.href);
    document.getElementById('msg').textContent = 'Загрузка начата';
  } catch(err){
    // Если fetch блокируется CORS, откроем прямой переход
    window.open(url, '_blank');
    document.getElementById('msg').textContent = 'Открыто в новой вкладке (CORS мог помешать fetch)';
  }
};
</script>
</body>
</html>
